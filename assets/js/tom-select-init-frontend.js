!function(){"use strict";function t(t){var e=this;if(!t.hasOwnProperty("tomselect")){var n=function(t,e){var n=window.tom_select_init_frontend_strings.restUrl,a=new URL("".concat(n,"wp/v2/search"));return a.searchParams.append("search",t),a.searchParams.append("type",e.searchType),a.searchParams.append("subtype",e.searchSubtype),a.searchParams.append("per_page",e.paginationPerPage),a.searchParams.append("page",e.paginationPage),a},a={plugins:[],valueField:"id",labelField:"title",searchField:"title",maxItems:null,maxOptions:null,paginationPage:1,paginationPerPage:20,paginationTotalPages:1,render:{option:function(t,e){var n,a=(null===(n=t.$option)||void 0===n?void 0:n.classList.toString())||"";return'<div class="'.concat(a,'"><span class="ts-option-label">').concat(e(t.title),"</span></div>")}},firstUrl:function(t){return n(t,e.settings)},load:function(t,e){var a=this;this.settings.plugins.includes("virtual_scroll")?fetch(n(t,this.settings)).then((function(t){if(a.settings.paginationTotalPages=Number(t.headers.get("x-wp-totalpages"))||1,a.settings.maxOptions=Number(t.headers.get("x-wp-total"))||null,!t.ok)throw t.status;return t.json()})).then((function(s){a.settings.paginationTotalPages>a.settings.paginationPage?(a.settings.paginationPage=a.settings.paginationPage+1,a.setNextUrl(t,n(t,a.settings))):a.setNextUrl(t,null),e(s)})).catch((function(t){console.log(t),e()})):e()}},s=JSON.parse(t.getAttribute("data-ts-settings")),i=Object.assign(a,s);Array.isArray(t.dataset.selectedItems)&&t.dataset.selectedItems.length&&(i.items=t.dataset.selectedItems);var o=new TomSelect(t,i);i.plugins.includes("virtual_scroll")&&(o.on("focus",(function(){o.settings.paginationPage=o.settings.paginationPage+1,o.setNextUrl("",n("",o.settings))})),o.on("type",(function(){o.settings.paginationPage=1,o.setNextUrl("",n("",o.settings))})))}}window.gravityformsadvancedselectInitializeTomSelect=function(){"function"==typeof TomSelect?document.querySelectorAll("select.gfield_select_tomselect").forEach(t):console.log("TomSelect not available!")},"undefined"!=typeof jQuery?jQuery(document).on("gform_post_render",gravityformsadvancedselectInitializeTomSelect):document.addEventListener("DOMContentLoaded",gravityformsadvancedselectInitializeTomSelect)}();